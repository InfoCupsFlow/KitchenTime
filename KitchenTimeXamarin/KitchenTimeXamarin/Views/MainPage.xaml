<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:KitchenTimeXamarin.ViewModels;assembly=KitchenTimeXamarin"
             xmlns:models="clr-namespace:KitchenTimeXamarin.Data.Models;assembly=KitchenTimeXamarin"
             xmlns:components="clr-namespace:KitchenTimeXamarin.Components;assembly=KitchenTimeXamarin"
             x:Class="KitchenTimeXamarin.Views.MainPage"
             Shell.FlyoutBehavior="Disabled"
             Shell.NavBarIsVisible="True"
             x:DataType="viewModels:MainViewModel"
>
    
    <ContentPage.BindingContext>
        <viewModels:MainViewModel />
    </ContentPage.BindingContext>



        
    <Grid VerticalOptions="Center">
        <Grid.RowDefinitions>
            <RowDefinition Height="400"/>
            <RowDefinition Height="60" />
            <RowDefinition Height="100" />
         </Grid.RowDefinitions>  
        
        <Grid BackgroundColor="Gray">
            <Label Text="{Binding CountDownDisplay}" 
                   HorizontalOptions="Center"
                   VerticalOptions="Center"/>
        </Grid>
        

        <StackLayout Grid.Row="1"
                     BindableLayout.ItemsSource="{Binding Timers}"
                     Orientation="Horizontal">
            <BindableLayout.ItemTemplate>
                <DataTemplate x:DataType="models:Timer">
                    <Button Text="{Binding Name}"
                            Command="{Binding Source={RelativeSource AncestorType={x:Type viewModels:MainViewModel}}, 
                                              Path=SetTimerCommand}"
                            CommandParameter="{Binding .}"/>
                </DataTemplate>
            </BindableLayout.ItemTemplate>
        </StackLayout>

        <Label Grid.Row="2" Text="Pokrmy:" />
        
    </Grid>

</ContentPage>